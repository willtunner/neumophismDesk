<div class="form-group" [class.error]="isInvalid">
  <div 
    class="select-group"
    [class.focused]="isFocused" 
    [class.open]="isOpen">

    <!-- Select Trigger -->
    <div 
      class="select-trigger"
      (click)="toggleDropdown()"
      (focus)="onFocus()"
      tabindex="0">
      
      <span class="select-value" [class.placeholder]="!hasValue">
        {{ displayValue }}
      </span>

      <!-- Ícone -->
      <div *ngIf="showImage" class="select-icon" [innerHTML]="safeIconSvg"></div>
    </div>

    <!-- Dropdown Options -->
    <div class="select-dropdown" *ngIf="isOpen">
      <div class="dropdown-content">
        <div 
          *ngFor="let option of config.options"
          class="select-option"
          [class.selected]="isSelected(option)"
          [class.disabled]="option.disabled"
          (click)="selectOption(option)"
          (mousedown)="$event.preventDefault()">
          
          <!-- Checkbox para múltipla seleção -->
          <div *ngIf="config.multiple" class="option-checkbox">
            <div class="neu-checkbox-small" [class.checked]="isSelected(option)">
              <svg *ngIf="isSelected(option)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </div>
          </div>

          <span class="option-label">{{ option.label }}</span>
        </div>

        <!-- Mensagem quando não há opções -->
        <div *ngIf="config.options.length === 0" class="no-options">
          Nenhuma opção disponível
        </div>
      </div>
    </div>
  </div>

  <!-- Mensagem de erro -->
  <span class="error-message" [class.show]="isInvalid && errorMessage">
    {{ errorMessage }}
  </span>
</div>