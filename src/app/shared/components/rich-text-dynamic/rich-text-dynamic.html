<div class="form-group" [class.error]="isInvalid">
  <div 
    class="rich-text-group"
    [class.focused]="isFocused"
    [class.has-value]="hasValue">
    
    <!-- Label -->
    <label [for]="config.formControlName">
      {{ config.label }}
      <span *ngIf="config.required !== false" class="required-asterisk">*</span>
    </label>

    <!-- Container do Quill Editor -->
    <div 
      [id]="'quill-editor-' + config.formControlName"
      class="neu-rich-text-editor"
      (focus)="onFocus()"
      (blur)="onBlur()">
    </div>

    <!-- Ícone -->
    <div *ngIf="showImage" class="input-icon" [innerHTML]="safeIconSvg"></div>
  </div>

  <!-- Contador de caracteres - SEMPRE visível se maxLength estiver configurado -->
  <div *ngIf="config.maxLength" class="char-counter" [class.error]="charCount > config.maxLength">
    {{ charCount }} / {{ config.maxLength }} caracteres
    <span *ngIf="charCount > config.maxLength" class="char-limit-exceeded">
      (Limite excedido!)
    </span>
  </div>

  <!-- Contador de caracteres mínimo - visível apenas se minLength estiver configurado -->
  <div *ngIf="config.minLength && !config.maxLength" class="char-counter" [class.error]="charCount < config.minLength">
    {{ charCount }} / {{ config.minLength }} caracteres mínimos
    <span *ngIf="charCount < config.minLength" class="char-minimum-warning">
      (Mínimo não atingido!)
    </span>
  </div>

  <!-- Mensagem de erro -->
  <span class="error-message" [class.show]="isInvalid && errorMessage">
    {{ errorMessage }}
  </span>
</div>